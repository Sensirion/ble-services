# yaml-language-server: $schema=./ble-sample-types-schema.json
file-version: 0.1.0
sample-types:
  - sample-type:
      description: AQ Minion advertisement sample
      id: [0x0, 0x3]
      fields:
        - field:
            name: Device id
            description: Id of the device
            byte-offset: 2
            data-type: uint16
        - field:
            name: Temperature
            byte-offset: 4
            description: Measured temperature as a raw integer value
            data-type: uint16
            conversion:
              offset: -45
              scale:   175.0 / (2**16 - 1)
              formula: T = - 45 + ((175.0 * raw_value) / (2^16 - 1))
        - field:
            name: Humidity
            byte-offset: 6
            description: Measured relative humidity as a raw integer value
            data-type: uint16
            conversion:
              offset: 0
              scale:  100.0/ (2**16 - 1)
              formula: RH = (100.0 * raw_value) / (2^16 - 1)
        - field:
            name: VOC
            description: Measured VOC value
            byte-offset: 8
            data-type: uint16
        - field:
            name: VOC-raw
            description: Measured raw VOC value
            byte-offset: 10
            data-type: uint16
  
  - sample-type:
      description: SHT3x-based gadget advertisement sample
      id: [0x0, 0x4]
      fields:
        - field:
            name: Device id
            description: Id of the device
            byte-offset: 2
            data-type: uint16
        - field:
            name: Temperature
            byte-offset: 4
            description: Measured temperature as a raw integer value
            data-type: uint16
            conversion:
              offset: -45
              scale:   175.0 / (2**16 - 1)
              formula: T = - 45 + ((175.0 * raw_value) / (2^16 - 1))
        - field:
            name: Humidity
            byte-offset: 6
            description: Measured relative humidity as a raw integer value
            data-type: uint16
            conversion:
              offset: 0
              scale:  100.0/ (2**16 - 1)
              formula: RH = (100.0 * raw_value) / (2^16 - 1)

  - sample-type:
      description: SHT4x-based gadgets full advertisement sample
      id: [0x0, 0x6]
      fields:
        - field:
            name: Device id
            description: Id of the device
            byte-offset: 2
            data-type: uint16
        - field:
            name: Temperature
            byte-offset: 4
            description: Measured temperature as a raw integer value
            data-type: uint16
            conversion:
              offset: -45
              scale:   175.0 / (2**16 - 1)
              formula: T = - 45 + ((175.0 * raw_value) / (2^16 - 1))
        - field:
            name: Humidity
            byte-offset: 6
            description: Measured relative humidity as a raw integer value
            data-type: uint16
            conversion:
              offset: -6
              scale:  125.0 / (2**16 - 1)
              formula: RH = - 6 + (125.0 * raw_value) / (2^16 - 1)
  
  - sample-type:
      description: MyCO2 advertisement sample
      id: [0x0 ,0x8]
      fields:
        - field:
            name: Device id
            description: Id of the device
            byte-offset: 2
            data-type: uint16
        - field:
            name: Temperature
            byte-offset: 4
            description: Measured temperature as a raw integer value
            data-type: uint16
            conversion:
              formula: T = - 45 + ((175.0 * raw_value) / (2^16 - 1))
        - field:
            name: Humidity
            byte-offset: 6
            description: Measured relative humidity as a raw integer value
            data-type: uint16
            conversion:
              offset: 0
              scale:  100.0/ (2**16 - 1)
              formula: RH = (100.0 * raw_value) / (2^16 - 1)
        - field:
            name: CO2
            byte-offset: 8
            description: Measured CO2 as an integer value
            data-type: uint16
        - field:
            name: reserved
            byte-offset: 10
            description: reserved value
            data-type: 2 bytes

  - sample-type:
      description: Temperature/Humidity/CO2 advertisement sample
      id: [0x0A ,0x0]
      fields:
        - field:
            name: Device id
            description: Id of the device
            byte-offset: 2
            data-type: uint16
        - field:
            name: Temperature
            byte-offset: 4
            description: Measured temperature as a raw integer value
            data-type: uint16
            conversion:
              formula: T = - 45 + ((175.0 * raw_value) / (2^16 - 1))
        - field:
            name: Humidity
            byte-offset: 6
            description: Measured relative humidity as a raw integer value
            data-type: uint16
            conversion:
              offset: 0
              scale:  100.0/ (2**16 - 1)
              formula: RH = (100.0 * raw_value) / (2^16 - 1)
        - field:
            name: CO2
            byte-offset: 8
            description: Measured CO2 as an integer value
            data-type: uint16
           
  - sample-type:
      description: SHT43-DB no data advertisement sample
      id: [0xff, 0x0]











